try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="26f25065-add4-48d6-a73b-fec1a1f6f830",e._sentryDebugIdIdentifier="sentry-dbid-26f25065-add4-48d6-a73b-fec1a1f6f830")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1922],{52558:function(e,t,n){n.d(t,{Eu:function(){return c},Ho:function(){return d},eA:function(){return p}});var r=n(57437),o=n(99376),i=n(2265),a=n(80733),l=n(78099),s=n(21288);let u=(0,i.createContext)(void 0),c=()=>{let e=(0,i.useContext)(u);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e},d=e=>{let{user:t,children:n}=e,[c,d]=(0,i.useState)(t?"authenticated":"idle"),[p,_]=(0,i.useState)(t),[f,m]=(0,i.useState)(void 0),P=(0,o.useRouter)();return(0,i.useEffect)(()=>{t&&t.idToken&&a.g.setServerIdToken(t.idToken)},[t]),(0,i.useEffect)(()=>{let e=!1,n=null;return(async function(){if(!e){if(!t){d("idle"),_(null),m(void 0);return}d("loading");try{let{auth:e}=await (0,l.j2)(t.customToken,!0);n=e.onAuthStateChanged(e=>{e||(d("idle"),_(null),m(void 0))}),d("authenticated"),_(t),m(void 0)}catch(e){d("error"),m(e instanceof Error?e:Error(String(e))),s.logging.error("AuthProvider: Failed to initialize Firebase",{error:e,userId:null==t?void 0:t.uid})}}})().catch(e=>{s.logging.error("AuthProvider: Failed to initialize Firebase",{error:e,userId:null==t?void 0:t.uid})}),()=>{e=!0,n&&n()}},[t,P]),(0,r.jsx)(u.Provider,{value:{authState:c,authUser:p,authError:f,isAuthenticated:"authenticated"===c},children:n})},p=()=>{let{authUser:e}=c();return null==e?void 0:e.email}},61922:function(e,t,n){n.d(t,{Lq:function(){return R},J1:function(){return k},aS:function(){return T},i7:function(){return U}});var r=n(57437),o=n(92850),i=n(5978),a=n(99376),l=n(2265),s=n(59625),u=n(52558),c=n(60256),d=n(43930),p=n(78099),_=n(21288),f=n(89668),m=n(6812),P=n(29827),h=n(21770),b=n(14438),S=n(64040),w=n(49131),g=n(97318),O=n(48581),v=n(108),y=n(7309),C=n(33370);let I=e=>"".concat("lovable-current-workspace-id","-").concat(e),E=()=>(0,s.Ue)(()=>({currentWorkspace:null,hasFetchedCurrentWorkspace:!1,memberships:[]})),L=(0,l.createContext)(null);function R(e){var t,n;let{children:s}=e,R=(0,l.useRef)(E()),{authUser:k}=(0,u.Eu)(),{userData:T}=(0,c.SE)(),U=I(null!==(t=null==k?void 0:k.uid)&&void 0!==t?t:""),D=(0,a.useSearchParams)().get("workspaceId"),{allWorkspaces:A,isLoading:N}=(0,m.Q)(e=>({allWorkspaces:e.workspaces,isLoading:e.isLoading})),K=null!==(n=null==A?void 0:A[0])&&void 0!==n?n:null,[z,Y]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(window)try{let e=window.localStorage.getItem(U);e&&Y(e)}catch(e){_.logging.debug("Error getting current workspace id from localstorage",{error:e})}},[U]);let x=(0,l.useCallback)(e=>{Y(e);try{e?window.localStorage.setItem(U,e):window.localStorage.removeItem(U)}catch(t){_.logging.debug("Error setting current workspace id to localstorage",{error:t,newId:e})}},[U]);(0,l.useEffect)(()=>{!z&&(null==K?void 0:K.id)&&x(K.id)},[z,null==K?void 0:K.id,x]);let[M,B]=(0,l.useState)(null),[q,F]=(0,l.useState)("idle");(0,l.useEffect)(()=>{if(!z){B(null),F("success");return}F("loading");let e=(0,i.JU)(p.db,"workspaces",z);return(0,i.cf)(e,e=>{e.exists()?B(e.data()):B(null),F("success")},e=>{_.logging.error("Error fetching workspace",{error:e,workspaceId:z}),F("error")})},[z]);let{data:W}=(0,o.a)(f.t.detail({workspaceId:null!=D?D:""}));!function(e){let{authUser:t,currentWorkspaceId:n,userData:r,isLoadingAllWorkspaces:o,currentWorkspace:i}=e,[a,s]=(0,l.useState)(!1),{toCheckout:u}=(0,v.m)(),c=(0,l.useCallback)(async()=>{if((null==t?void 0:t.uid)&&n&&!a)try{let e;let r=localStorage.getItem(O.h9);if(!r)return;let o=JSON.parse(r),i=Date.now()-o.timestamp;if(localStorage.removeItem(O.h9),i>36e5)return;if("pro"===o.planType&&(e=y.qI.planOptions.find(e=>e.id===o.planId)),!e){_.logging.error("Could not find matching plan for pending selection",{pendingPlan:o,userId:t.uid});return}s(!0),await u({plan:e,workspaceId:n})}catch(e){_.logging.error("Error processing pending plan selection",{error:e,userId:null==t?void 0:t.uid,workspaceId:n}),localStorage.removeItem(O.h9)}},[null==t?void 0:t.uid,n,a,u]);(0,l.useEffect)(()=>{t&&n&&!o&&!a&&(null==r?void 0:r.segmentation_form_status)===C.O.SUBMITTED&&(null==i?void 0:i.plan)==="free"&&c()},[t,null==i?void 0:i.plan,n,o,a,c,null==r?void 0:r.segmentation_form_status])}({authUser:k,currentWorkspaceId:z,userData:null!=T?T:null,isLoadingAllWorkspaces:N,currentWorkspace:M}),function(e){let{allWorkspaces:t,isLoadingAllWorkspaces:n,workspaceDataForUnacceptedInvites:r,setCurrentWorkspaceId:o,authUser:i}=e,s=(0,a.useRouter)(),u=(0,a.usePathname)(),c=(0,a.useSearchParams)(),d=(0,l.useRef)(new Set),p=c.get("workspaceId"),{store:_}=(0,m.bm)(),f=(0,P.NL)(),O=(0,l.useCallback)(()=>{let e=new URLSearchParams(c);e.delete("workspaceId"),s.replace("".concat(u,"?").concat(e.toString()),{scroll:!1})},[s,u,c]),{mutate:v}=(0,h.D)({mutationFn:async e=>{let t=(0,w.SJ)();return await t.put("/user/workspaces/".concat(e.id,"/accept-invite")),e},onSuccess:e=>{o(e.id),O(),d.current.has(e.id)||(b.Am.success(e.name?'Switched to "'.concat(e.name,'" workspace'):"Switched to workspace"),null==_||_.setState({workspaces:[...t,e]})),d.current.add(e.id)},onError:(e,t)=>{d.current.has(t.id)||(O(),d.current.add(t.id),(0,S.Eo)(e))},onSettled:()=>{f.invalidateQueries({queryKey:g.E.all})},retry:!1});(0,l.useEffect)(()=>{if(p&&!i&&!n){s.replace("/login");return}p&&!n&&(null==r?void 0:r.workspace)&&!d.current.has(r.workspace.id)&&v(r.workspace)},[v,n,null==r?void 0:r.workspace,p,i,s,u,c])}({allWorkspaces:A,isLoadingAllWorkspaces:N,authUser:k,workspaceDataForUnacceptedInvites:null!=W?W:{workspace:null,projects:[]},setCurrentWorkspaceId:x}),(0,l.useEffect)(()=>{if(!N&&z&&!A.some(e=>e.id===z)){var e;_.logging.info("User ".concat(null==k?void 0:k.uid," does not have access to workspace ").concat(z,", switching to ").concat(null==K?void 0:K.id)),x(null!==(e=null==K?void 0:K.id)&&void 0!==e?e:null)}},[A,null==k?void 0:k.uid,z,null==K?void 0:K.id,N,x]);let{data:Z}=(0,o.a)(f.t.workspaceMemberships({workspaceId:null!=z?z:"",userId:null==k?void 0:k.uid}));(0,l.useEffect)(()=>{z?R.current.setState({currentWorkspace:M,memberships:(null==Z?void 0:Z.memberships)||[]}):R.current.setState({currentWorkspace:null,memberships:[]})},[z,M,null==Z?void 0:Z.memberships]),(0,l.useEffect)(()=>{("success"===q||"error"===q)&&R.current.setState({hasFetchedCurrentWorkspace:!0})},[q]);let j=(0,d.i)();(0,l.useEffect)(()=>(null==j||j.setCurrentWorkspaceId(null!=z?z:null),()=>{null==j||j.setCurrentWorkspaceId(null)}),[z,j]);let H={store:R.current,setCurrentWorkspaceId:x,currentWorkspaceId:z};return(0,r.jsx)(L.Provider,{value:H,children:s})}function k(){let e=(0,l.useContext)(L);if(!e)throw Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}function T(e){let{store:t}=k();if(!t)throw Error("useWorkspaceStore must be used within a WorkspaceProvider");return t(e)}function U(e){let t=(0,l.useContext)(L),n=null==t?void 0:t.store;return n?n(e):null}},82176:function(e,t,n){n.d(t,{ZR:function(){return m},dl:function(){return f},t_:function(){return b}});var r=n(57437),o=n(22048),i=n(99376),a=n(46214),l=n(23664),s=n(2265),u=n(21288),c=n(52558),d=n(25566);let p=(0,s.createContext)(void 0),_=()=>{let e=(0,s.useContext)(p);if(!e)throw Error("useFeatureFlagContext must be used within a PostHogFlagsContext in the PosthogProvider");return e},f=e=>!!_()[e],m=e=>_()[e],P="phc_xdBVCyOkYw40Pqd7xp5Er88lGq2IGFd4kZHRiKvvkjr",h=P&&!0;function b(e){let{children:t,bootstrapData:n}=e,{authUser:u}=(0,c.Eu)(),_=(0,c.eA)(),f=(0,s.useMemo)(()=>null==u?void 0:u.uid,[null==u?void 0:u.uid]),m=(0,s.useMemo)(()=>null==u?void 0:u.displayName,[null==u?void 0:u.displayName]),b=(0,s.useMemo)(()=>({featureFlags:(null==n?void 0:n.featureFlags)||{},distinctID:(null==n?void 0:n.distinctID)||""}),[n]);return(0,s.useEffect)(()=>{f&&o.av({id:f})},[f]),(0,s.useEffect)(()=>{h&&f&&(a.ZP.identify(f,{email:_,name:m}),a.ZP.capture("github_branch",{branch:d.env.BRANCH||null}))},[f,_,m]),(0,s.useEffect)(()=>{h&&a.ZP.init(P,{api_host:"https://lovable.dev/ingest",ui_host:"https://us.posthog.com",bootstrap:n,session_recording:{maskAllInputs:!1,maskInputOptions:{password:!0}},autocapture:{element_allowlist:["button"]},verbose:!1})},[n]),!function(){let e=(0,i.usePathname)();(0,s.useEffect)(()=>{a.ZP.capture("$pageview")},[e])}(),(0,r.jsx)(p.Provider,{value:b.featureFlags,children:(0,r.jsx)(l.zf,{client:a.ZP,children:t})})}P||u.logging.info("Missing NEXT_PUBLIC_POSTHOG_KEY in env; set to 'skip' to disable")},60256:function(e,t,n){n.d(t,{SE:function(){return c},dF:function(){return d},dr:function(){return u}});var r=n(57437),o=n(5978),i=n(2265),a=n(52558),l=n(78099);let s=(0,i.createContext)(void 0),u=e=>{let{children:t}=e,[n,u]=(0,i.useState)(void 0),[c,d]=(0,i.useState)(!1),{authUser:p,authState:_}=(0,a.Eu)();return(0,i.useEffect)(()=>{var e,t;if("authenticated"!==_)return;let n=null!==(t=null==p?void 0:p.uid)&&void 0!==t?t:null===(e=l.I8.currentUser)||void 0===e?void 0:e.uid;if(!n)return;let r=(0,o.JU)(l.db,"users",n);return(0,o.cf)(r,e=>{u(e.data())})},[p,_]),(0,r.jsx)(s.Provider,{value:{userData:n,isOutOfCreditsDialogOpen:c,setIsOutOfCreditsDialogOpen:d},children:t})},c=()=>{let e=(0,i.useContext)(s);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e},d=e=>{var t;let{workspacePlan:n}=e,{userData:r}=c();return null!==n?!["free","inactive"].includes(n):null!==(t=null==r?void 0:r.is_admin)&&void 0!==t&&t}},6812:function(e,t,n){n.d(t,{Q:function(){return _},W5:function(){return d},bm:function(){return p}});var r=n(57437),o=n(92850),i=n(2265),a=n(59625),l=n(52558),s=n(89668);let u=()=>(0,a.Ue)(e=>({workspaces:[],error:null,isLoading:!0,showCreateWorkspaceDialog:!1,setShowCreateWorkspaceDialog:t=>{e({showCreateWorkspaceDialog:t})}})),c=(0,i.createContext)(null);function d(e){let{children:t}=e,n=(0,i.useRef)(u()),{authUser:a}=(0,l.Eu)(),{data:d,error:p,isFetching:_}=(0,o.a)(s.t.workspaces({userId:null==a?void 0:a.uid}));return(0,i.useEffect)(()=>{(null==d?void 0:d.workspaces)&&n.current.setState({workspaces:d.workspaces}),n.current.setState({isLoading:_})},[d,_]),(0,i.useEffect)(()=>{p&&n.current.setState({error:p})},[p]),(0,r.jsx)(c.Provider,{value:{store:n.current},children:t})}function p(){let e=(0,i.useContext)(c);if(!e)throw Error("useWorkspaceContext must be used within a WorkspaceProvider");return e}function _(e){let{store:t}=p();if(!t)throw Error("useWorkspaceStore must be used within a WorkspaceProvider");return t(e)}},43930:function(e,t,n){n.d(t,{g:function(){return u},i:function(){return c}});var r=n(57437),o=n(46214),i=n(2265),a=n(59625);let l=()=>(0,a.Ue)(()=>({projectWorkspaceId:null,currentWorkspaceId:null})),s=(0,i.createContext)(null),u=e=>{let{children:t}=e,n=(0,i.useRef)(l()),a=(0,i.useCallback)(()=>{let{projectWorkspaceId:e,currentWorkspaceId:t}=n.current.getState();o.ZP.group("workspace",e||t||"none")},[]),u=(0,i.useCallback)(e=>{n.current.setState({projectWorkspaceId:e}),a()},[a]),c=(0,i.useCallback)(e=>{n.current.setState({currentWorkspaceId:e}),a()},[a]),d={store:n.current,setProjectWorkspaceId:u,setCurrentWorkspaceId:c};return(0,r.jsx)(s.Provider,{value:d,children:t})};function c(){let e=(0,i.useContext)(s);if(!e)throw Error("usePostHogGroupContext must be used within a PostHogGroupProvider");return e}},48581:function(e,t,n){n.d(t,{h9:function(){return P},om:function(){return b},tS:function(){return S}});var r=n(57437),o=n(2265),i=n(14438),a=n(52558),l=n(108),s=n(7309),u=n(27132),c=n(3813),d=n(46170);let p=e=>{let{currentPlan:t,isProPlan:n,isBizPlan:r}=e;return n?s.qI.planOptions.find(e=>e.id===t.id)||s.qI.planOptions[0]:r?s.tG.planOptions.find(e=>e.id===t.id)||s.tG.planOptions[0]:null},_=e=>{let{currentPlan:t,isProPlan:n,isBizPlan:r}=e,o=p({currentPlan:t,isProPlan:n,isBizPlan:r});if(n&&o){let e=s.qI.planOptions.findIndex(e=>e.id===o.id);return e<s.qI.planOptions.length-1?s.qI.planOptions[e+1]:o}if(r&&o){let e=s.tG.planOptions.findIndex(e=>e.id===o.id);return e<s.tG.planOptions.length-1?s.tG.planOptions[e+1]:o}return null},f=e=>{let{planOptions:t,targetLimit:n}=e;return t.find(e=>e.limit>n)||t[t.length-1]},m=["launch","scale_1","scale","scale_3","scale_4","scale_5","scale_6","scale_7","pro","starter"],P="pendingPlanSelection",h=(0,o.createContext)(void 0),b=e=>{let{children:t,planCardContext:n,workspace:b,myWorkspaceRole:S,onDowngradeClick:w}=e,{toCheckout:g,createPortalSession:O,isCreatePortalSessionLoading:v}=(0,l.m)(),{authUser:y}=(0,a.Eu)(),C=(0,c.Kq)(),I=(0,c.x9)(),E=(0,o.useCallback)(async()=>{(null==b?void 0:b.id)?await O({workspaceId:b.id}):i.Am.error("Something went wrong.",{description:"Please, refresh the page and try again."})},[O,null==b?void 0:b.id]),L=(0,o.useMemo)(()=>{var e,t;return{id:null!==(e=null==b?void 0:b.plan)&&void 0!==e?e:d.tJ.FREE,type:null!==(t=null==b?void 0:b.plan_type)&&void 0!==t?t:"monthly"}},[b]),R=(0,o.useMemo)(()=>{if(null==b?void 0:b.plan_scheduled){var e,t;return{id:null!==(e=null==b?void 0:b.plan_scheduled)&&void 0!==e?e:d.tJ.FREE,type:null!==(t=null==b?void 0:b.plan_type_scheduled)&&void 0!==t?t:"monthly"}}},[b]),k="loggedOut"===n,T="free"===L.id,U=(0,d.B9)(L.id),D=(0,d.Qx)(L.id),A="enterprise"===L.id,N="inactive"===L.id,K=m.includes(L.id);C&&(null==R?void 0:R.id)&&"billing"===n&&(n="downgradeScheduled");let z=!!(!k&&y&&b&&y.uid===b.owner_id),Y=!k&&"member"===S,x=!k&&(!!S||z),M=K?.2:0,[B,q]=(0,o.useState)(L.type);(0,o.useEffect)(()=>{C&&!R&&"outOfCredits"!==n&&q("annual")},[C,R,n]);let F=(0,o.useCallback)(e=>{var t;return"annual"===B&&null!==(t=e.annualPrice)&&void 0!==t?t:e.monthlyPrice},[B]),W=(0,o.useCallback)(()=>"per month",[]),Z="outOfCredits"!==n;C&&(Z="loggedOut"===n||(null==R?void 0:R.id)==="free");let j="outOfCredits"!==n&&"ktlo"===L.id;C&&(j="outOfCredits"!==n&&(null==R?void 0:R.id)==="ktlo");let H=null!=C&&C,J=!0;C&&(J="outOfCredits"!==n&&!R);let{defaultProPlan:G}=(0,o.useMemo)(()=>{let e=p({currentPlan:L,isProPlan:U,isBizPlan:D}),t=s.qI.planOptions[0];if(U)t=_({currentPlan:L,isProPlan:U,isBizPlan:D})||e;else if(K){let e=(0,s.z_)(L.id)||0;t=f({planOptions:s.qI.planOptions,targetLimit:e})}return{defaultProPlan:t}},[L,U,D,K]),{defaultBizPlan:X}=(0,o.useMemo)(()=>{let e=p({currentPlan:L,isProPlan:U,isBizPlan:D}),t=s.tG.planOptions[0];if(D)t=e||_({currentPlan:L,isProPlan:U,isBizPlan:D});else if(K){let e=(0,s.z_)(L.id)||0;t=f({planOptions:s.tG.planOptions,targetLimit:e})}return{defaultBizPlan:t}},[L,D,U,K]),Q=(0,o.useCallback)(e=>{let{selectedPlanId:t,planOptions:n}=e;if(t===L.id&&B===L.type)return"current";if(T)return"upgrade";let r=n.find(e=>e.id===t),o=(0,s.oW)(L);return void 0===o||void 0===r||o===F(r)?"upgrade":"enterprise"===L.id?"downgrade":t===L.id&&"annual"===B&&"monthly"===L.type?"switchToAnnual":F(r)>o?"upgrade":"downgrade"},[L,T,F,B]),V=(0,o.useCallback)(e=>{let{selectedPlanId:t,planOptions:n,currentPlan:r}=e,o=Q({selectedPlanId:t,planOptions:n});return"current"===o?"Your current plan":"switchToAnnual"===o?"Switch to annual":"upgrade"===o?"Upgrade":"enterprise"===r.id?"Downgrade (Contact us)":"Downgrade"},[Q]),[$,ee]=(0,o.useState)(G),[et,en]=(0,o.useState)(X);(0,o.useEffect)(()=>{ee(G)},[G]),(0,o.useEffect)(()=>{en(X)},[X]);let er=(0,o.useMemo)(()=>[...s.qI.planOptions,...s.tG.planOptions],[]),eo=(0,o.useMemo)(()=>{var e,t,n;return(null==y?void 0:y.email)||(null==y?void 0:null===(n=y.firebase)||void 0===n?void 0:null===(t=n.identities)||void 0===t?void 0:null===(e=t.email)||void 0===e?void 0:e[0])||"xxxxx"},[y]),ei=(0,u.Z)("sm"),ea=(0,o.useMemo)(()=>ei?1:[Z,j,!0,H,J].filter(Boolean).length,[ei,Z,j,!0,H,J]),el=(0,o.useCallback)(e=>{let{selectedPlanId:t,planOptions:n}=e,r=Q({selectedPlanId:t,planOptions:n});return"upgrade"===r||"switchToAnnual"===r?"twilight":"link"},[Q]),es=el({selectedPlanId:$.id,planOptions:er}),eu=el({selectedPlanId:et.id,planOptions:er}),ec=(0,o.useCallback)(e=>{if("free"===e.id){window.location.href="/signup";return}let t={planId:e.id,planType:"pro",timestamp:Date.now(),price:F(e),limit:e.limit};localStorage.setItem(P,JSON.stringify(t)),window.location.href="/signup"},[F]),ed=(0,o.useCallback)(async e=>{(null==b?void 0:b.id)&&await g({plan:e,workspaceId:b.id,grandfatheredDiscount:K,planType:B,changeType:"upgrade"})},[b,g,K,B]),ep=(0,o.useCallback)(e=>{var t,n;if("monthly"===L.type&&"annual"===B&&e===L.id)return!1;let r=null!==(t=(0,s.oW)(L))&&void 0!==t?t:0;return(null!==(n=(0,s.oW)({id:e,type:B}))&&void 0!==n?n:0)<r},[L,B]),[e_,ef]=(0,o.useState)(null),em=(0,o.useCallback)(()=>{ef({id:d.tJ.FREE,monthlyPrice:0,annualPrice:0,monthlyLookupKey:"free_plan",quantity:1,limit:d.dv,name:"Free",canManagePlan:!0})},[]),eP=(0,o.useCallback)(e=>e.annualPrice&&"annual"===B?(e.monthlyPrice-e.annualPrice)*12:void 0,[B]),eh={currentPlan:L,selectedProPlan:$,setSelectedProPlan:ee,selectedBizPlan:et,setSelectedBizPlan:en,planType:B,setPlanType:q,planCardContext:n,getDisplayPrice:F,getPriceSuffix:W,showFreePlan:Z,showKtloPlan:j,showProPlan:!0,showBizPlan:H,showEnterprisePlan:J,showProDropdown:!k,showBizDropdown:!k&&I,isFreePlan:T,isProPlan:U,isBizPlan:D,isEnterprisePlan:A,isInactivePlan:N,isLoggedOut:k,isOwner:z,isEditor:Y,isMemberOfWorkspace:x,shouldDisableWorkspaceAdminActions:!k&&(Y||!k&&!x&&!z),userEmail:eo,scheduledPlan:R,discountPercent:M,getSavingsAmount:eP,handleUpgrade:ed,handleLoggedOutUpgrade:ec,getButtonVariant:el,getButtonText:V,getPlanComparisonStatus:Q,createPortalSession:E,isCreatePortalSessionLoading:v,numberOfPlansShown:ea,allPlanOptions:er,freePlanButtonVariant:k?"twilight":"link",proPlanButtonVariant:es,bizPlanButtonVariant:eu,onDowngradeClick:w,isPlanDowngrade:ep,targetDowngradePlan:e_,setTargetDowngradePlan:ef,setFreePlanAsTarget:em};return(0,r.jsx)(h.Provider,{value:eh,children:t})},S=()=>{let e=(0,o.useContext)(h);if(!e)throw Error("usePricing must be used within a PricingProvider");return e}},108:function(e,t,n){n.d(t,{m:function(){return v},q:function(){return I}});var r=n(57437),o=n(21770),i=n(83464),a=n(46214),l=n(2265),s=n(14438),u=n(49360),c=n(52558),d=n(64040),p=n(49131),_=n(21288),f=n(49284),m=n(99376);let P="settings",h="change_type",b="billing",S="plan_id",w="plan_type",g="redirect",O=(0,l.createContext)(void 0),v=()=>{let e=(0,l.useContext)(O);if(!e)throw Error("useSubscription must be used within a SubscriptionProvider");return e},y=e=>{let{currentUrl:t,planId:n,changeType:r}=e,o=new URL(t);return o.searchParams.set("payment_status","failed"),o.searchParams.set(S,n),r&&o.searchParams.set(h,r),o.toString()},C=e=>{let{currentUrl:t,planId:n,orderId:r,planType:o,changeType:i}=e,a=new URL("".concat(window.location.origin).concat("/purchase-success"));if("/profile/plans"===window.location.pathname)a.searchParams.set(g,window.location.origin);else{let e=new URL(t);t.searchParams.has(P)&&t.searchParams.get(P)===b&&e.searchParams.set(P,b),i&&e.searchParams.set(h,i),e.searchParams.set(w,o),a.searchParams.set(g,e.toString())}return a.searchParams.set(S,n),a.searchParams.set("order_id",r),a.searchParams.set(w,o),a.toString()},I=e=>{let{children:t}=e,{authUser:n}=(0,c.Eu)(),[P,h]=(0,l.useState)(!1),[b,S]=(0,l.useState)(!1),w=(0,m.useSearchParams)().get("checkoutCode"),g="20-DISCOUNT"===w,v=(0,o.D)({mutationFn:async e=>{var t,r;let{plan:o,workspaceId:i,grandfatheredDiscount:a=!1,planType:l="monthly",changeType:s}=e;h(o.id);let c=new URL(window.location.href),d="ORDER_".concat(null==n?void 0:n.uid,"_").concat((0,u.Z)()),_=y({currentUrl:c,planId:o.id,changeType:s}),f=C({currentUrl:c,planId:o.id,orderId:d,planType:l,changeType:s}),m={price_lookup_key:"monthly"===l?o.monthlyLookupKey:null!==(r=o.annualLookupKey)&&void 0!==r?r:o.monthlyLookupKey,quantity:o.quantity,cancel_url:_,success_url:f,client_reference_id:null===(t=window.Rewardful)||void 0===t?void 0:t.referral,workspace_id:i,with_discount:a,coupon_code:g?"20-DISCOUNT":void 0};return(0,p.SJ)().post("/workspaces/".concat(i,"/stripe/checkout"),m)},onSuccess:e=>{window.location.assign(e.url)},onMutate:e=>{let{plan:t}=e;h(t.id),a.ZP.capture(f.TQ.CREDIT_PLAN_CHECKOUT_CLICKED,{coupon_code:w,new_plan:t.id})},onError:e=>{_.logging.error("error_creating_checkout_session",{error:e}),(0,d.Eo)(e)},onSettled:()=>{h(!1)}}),I=async e=>{let{plan:t,workspaceId:n,grandfatheredDiscount:r=!1,planType:o="monthly",changeType:i}=e;try{await v.mutateAsync({plan:t,workspaceId:n,grandfatheredDiscount:r,planType:o,changeType:i})}catch(e){}},E=async e=>{let{workspaceId:t}=e;try{S(!0);let e=(0,p.SJ)(),n=await e.post("/workspaces/".concat(t,"/stripe/portal-session"),{return_url:window.location.href});window.location.assign(n.url)}catch(e){i.default.isAxiosError(e)&&!e.response&&"Network Error"===e.message&&s.Am.error("Network error: Please check your internet connection and try again."),_.logging.error("error_creating_portal_session",{error:e})}finally{S(!1)}};return(0,r.jsx)(O.Provider,{value:{checkoutLoading:P,isCreatePortalSessionLoading:b,toCheckout:I,createPortalSession:E},children:t})}},7309:function(e,t,n){n.d(t,{Ds:function(){return p},oW:function(){return _},qI:function(){return c},tG:function(){return d},z_:function(){return f}});var r=n(48351),o=n(73400),i=n(46170);let a=[{id:r.It.PRO_1,annualPrice:21,monthlyPrice:25,limit:100,dropdownLabel:"100 credits / month"},{id:r.It.PRO_2,annualPrice:42,monthlyPrice:50,limit:200,dropdownLabel:"200 credits / month"},{id:r.It.PRO_3,annualPrice:84,monthlyPrice:100,limit:400,dropdownLabel:"400 credits / month"},{id:r.It.PRO_4,annualPrice:167,monthlyPrice:200,limit:800,dropdownLabel:"800 credits / month"},{id:r.It.PRO_5,annualPrice:246,monthlyPrice:294,limit:1200,dropdownLabel:"1200 credits / month"},{id:r.It.PRO_6,annualPrice:404,monthlyPrice:480,limit:2e3,dropdownLabel:"2000 credits / month"},{id:r.It.PRO_7,annualPrice:595,monthlyPrice:705,limit:3e3,dropdownLabel:"3000 credits / month"},{id:r.It.PRO_8,annualPrice:779,monthlyPrice:920,limit:4e3,dropdownLabel:"4000 credits / month"},{id:r.It.PRO_9,annualPrice:957,monthlyPrice:1125,limit:5e3,dropdownLabel:"5000 credits / month"},{id:r.It.PRO_10,annualPrice:1403,monthlyPrice:1688,limit:7500,dropdownLabel:"7500 credits / month"},{id:r.It.PRO_11,annualPrice:1828,monthlyPrice:2250,limit:1e4,dropdownLabel:"10000 credits / month"}],l=[{id:r.It.BIZ_1,annualPrice:42,monthlyPrice:50,limit:100,dropdownLabel:"100 credits / month"},{id:r.It.BIZ_2,annualPrice:84,monthlyPrice:100,limit:200,dropdownLabel:"200 credits / month"},{id:r.It.BIZ_3,annualPrice:167,monthlyPrice:200,limit:400,dropdownLabel:"400 credits / month"},{id:r.It.BIZ_4,annualPrice:334,monthlyPrice:400,limit:800,dropdownLabel:"800 credits / month"},{id:r.It.BIZ_5,annualPrice:396,monthlyPrice:588,limit:1200,dropdownLabel:"1200 credits / month"},{id:r.It.BIZ_6,annualPrice:653,monthlyPrice:960,limit:2e3,dropdownLabel:"2000 credits / month"},{id:r.It.BIZ_7,annualPrice:969,monthlyPrice:1410,limit:3e3,dropdownLabel:"3000 credits / month"},{id:r.It.BIZ_8,annualPrice:1276,monthlyPrice:1840,limit:4e3,dropdownLabel:"4000 credits / month"},{id:r.It.BIZ_9,annualPrice:1575,monthlyPrice:2250,limit:5e3,dropdownLabel:"5000 credits / month"},{id:r.It.BIZ_10,annualPrice:2310,monthlyPrice:3300,limit:7500,dropdownLabel:"7500 credits / month"},{id:r.It.BIZ_11,annualPrice:3010,monthlyPrice:4300,limit:1e4,dropdownLabel:"10000 credits / month"}],s=a.map(e=>{let t=r._I[e.id].LOOKUP_KEYS;if(!t)throw Error("Could not find stripe product for plan id ".concat(e.id));return{id:e.id,monthlyPrice:e.monthlyPrice,annualPrice:e.annualPrice,limit:e.limit,canManagePlan:!0,name:(0,i.ZN)(e.id),monthlyLookupKey:t.MONTHLY,annualLookupKey:t.ANNUAL,quantity:1,dropdownLabel:e.dropdownLabel}}),u=l.map(e=>{let t=r._I[e.id].LOOKUP_KEYS;if(!t)throw Error("Could not find stripe product for plan id ".concat(e.id));return{id:e.id,monthlyPrice:e.monthlyPrice,annualPrice:e.annualPrice,limit:e.limit,canManagePlan:!0,name:(0,i.ZN)(e.id),monthlyLookupKey:t.MONTHLY,annualLookupKey:t.ANNUAL,quantity:1,dropdownLabel:e.dropdownLabel}}),c={id:r.It.PRO_9,title:"Pro",priceSuffix:"/ month",description:"For individuals working on larger projects:",featuresHeader:"Everything in Launch, plus:",features:["Everything in Launch, plus:"],icon:"bolt_fill",planOptions:s},d={id:r.It.BIZ_9,title:"Business",priceSuffix:"/ month",description:"For teams and organizations:",featuresHeader:"Everything in Pro, plus:",features:["Personal Projects","Private previews","SSO"],icon:"enterprise",planOptions:u},p={id:i.tJ.KTLO,annualPrice:15,monthlyPrice:15,monthlyLookupKey:"ktlo",quantity:1,limit:30,name:"Lite",canManagePlan:!0},_=e=>{let t=a.find(t=>t.id===e.id);if(t)return"annual"===e.type?t.annualPrice:t.monthlyPrice;let n=l.find(t=>t.id===e.id);return n?"annual"===e.type?n.annualPrice:n.monthlyPrice:(0,i.B9)(e.id)||(0,i.Qx)(e.id)?void 0:m[e.id]},f=e=>{let t=a.find(t=>t.id===e);if(t)return t.limit;let n=l.find(t=>t.id===e);return n?n.limit:(0,i.B9)(e)||(0,i.Qx)(e)?void 0:P[e]},m={[o.n.plan.FREE]:0,[o.n.plan.STARTER]:20,[o.n.plan.LAUNCH]:50,[o.n.plan.SCALE_1]:100,[o.n.plan.SCALE]:200,[o.n.plan.SCALE_3]:294,[o.n.plan.SCALE_4]:384,[o.n.plan.SCALE_5]:564,[o.n.plan.SCALE_6]:736,[o.n.plan.SCALE_7]:900,[o.n.plan.ENTERPRISE]:0,bonus:19,pro:19,partner:0,[r.It.AMBASSADOR]:10,[r.It.KTLO]:15,inactive:0},P={[o.n.plan.FREE]:0,[o.n.plan.STARTER]:100,[o.n.plan.LAUNCH]:250,[o.n.plan.SCALE_1]:500,[o.n.plan.SCALE]:1e3,[o.n.plan.SCALE_3]:1500,[o.n.plan.SCALE_4]:2e3,[o.n.plan.SCALE_5]:3e3,[o.n.plan.SCALE_6]:4e3,[o.n.plan.SCALE_7]:5e3,[o.n.plan.ENTERPRISE]:0,bonus:100,pro:100,partner:0,[r.It.KTLO]:30,inactive:0}},27132:function(e,t,n){var r=n(37545),o=n(2265);let i={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};t.Z=e=>{if("number"==typeof e&&e<0)throw Error("Breakpoint value must be positive");let t=(0,r.Z)(),n=(0,o.useMemo)(()=>"number"==typeof e?e:i[e],[e]);return(0,o.useMemo)(()=>void 0!==t.width&&t.width<n,[t.width,n])}},67817:function(e,t,n){n.d(t,{v:function(){return o}});var r=n(60256);let o=()=>{let{userData:e}=(0,r.SE)();return null==e?void 0:e.is_admin}},37545:function(e,t,n){var r=n(2265);t.Z=()=>{let[e,t]=(0,r.useState)({width:void 0,height:void 0});return(0,r.useEffect)(()=>{{let e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}},[]),e}},10531:function(e,t,n){var r,o;n.d(t,{P:function(){return r}}),(o=r||(r={})).LaunchpadExamplePrompts="launchpad-example-prompts",o.NewPricingPlans="new-pricing-plans",o.AgentDefault="agent-default",o.AgentModeToggle="agent-mode-toggle",o.BetaTesters="beta_testers",o.CodeEditorWrite="code_editor_write",o.CustomDomainsBuy="custom_domains_buy",o.FeedbackFormFirstPrompt="feedback_form_first_prompt",o.GetStartedForFree="get-started-for-free",o.GithubContribution="github-contribution",o.InAppTeaching="in-app-teaching",o.Internal="internal",o.MemoryIntegration="memory-integration",o.IntegrationConnection="integration-connect",o.ModelSelector="model-selector",o.NavBarUpdate="nav-bar-update",o.ProjectAnalytics="project-analytics",o.Referrals="referrals",o.ReferralCopyConfetti="referral-copy-confetti",o.SecurityReview="security-review",o.ShowTranslation="show-translation",o.Templates="templates",o.VisualEditsRedesign="visual-edits-redesign",o.VoiceMode="voice-mode",o.SupabaseOnCreation="supabase-on-creation",o.PersonalProjects="draft-projects",o.VisualEditsV2="visual-edits-v2",o.PromptEnhancer="prompt-enhancer",o.CCPA="ccpa",o.GrowthKtlo="growth-ktlo",o.SupabaseExperimental="supabase-experimental",o.CreditRolloverMonthlyWorkflow="credit-rollover-monthly-workflow",o.PageSpeed="page-speed",o.SendMessageOnCreation="send-message-on-creation",o.AIGateway="ai-gateway",o.Embed="embed",o.StartSandboxBackground="start-sandbox-background",o.ChatSuggestions="chat-suggestions",o.BusinessPlan="biz-plan"},3813:function(e,t,n){n.d(t,{Cb:function(){return c},F9:function(){return d},Hj:function(){return O},Kq:function(){return _},R5:function(){return P},SK:function(){return f},TQ:function(){return b},Tj:function(){return E},W7:function(){return T},X4:function(){return I},Ys:function(){return C},Zp:function(){return l},aI:function(){return R},f7:function(){return w},fR:function(){return L},qT:function(){return y},qe:function(){return p},so:function(){return S},sp:function(){return m},ty:function(){return g},uF:function(){return h},uR:function(){return u},wf:function(){return v},x9:function(){return k},zq:function(){return s}});var r=n(82176),o=n(67817),i=n(10531),a=n(46170);let l=()=>(0,r.dl)(i.P.ModelSelector)||!1,s=()=>{let e=(0,o.v)();return(0,r.dl)(i.P.AgentModeToggle)||e||!1},u=()=>(0,r.dl)(i.P.InAppTeaching)||!1,c=()=>(0,r.dl)(i.P.BetaTesters)||!1,d=()=>(0,r.dl)(i.P.NavBarUpdate)||!1,p=()=>(0,r.dl)(i.P.LaunchpadExamplePrompts)||!1,_=()=>(0,r.dl)(i.P.NewPricingPlans),f=()=>(0,r.dl)(i.P.Referrals)||!1,m=e=>!!e&&((0,a.Qx)(e)||(0,a.gG)(e)),P=()=>(0,r.dl)(i.P.Templates)||!1,h=()=>(0,r.dl)(i.P.ProjectAnalytics)||!1,b=()=>(0,r.dl)(i.P.PromptEnhancer)||!1,S=()=>(0,r.dl)(i.P.SupabaseExperimental)||!1,w=()=>(0,r.dl)(i.P.GrowthKtlo)||!1,g=()=>(0,r.dl)(i.P.PageSpeed)||!1,O=()=>(0,r.dl)(i.P.MemoryIntegration)||!1,v=()=>(0,r.dl)(i.P.AIGateway)||!1,y=()=>{let e=(0,o.v)(),t=(0,r.dl)("download-zip");return e||t||!1},C=()=>{let e=(0,o.v)();return(0,r.dl)(i.P.CreditRolloverMonthlyWorkflow)||e||!1},I=()=>{let e=(0,o.v)();return(0,r.dl)(i.P.Embed)||e||!1},E=()=>(0,r.dl)("set-credit-limit")||!1,L=()=>(0,r.dl)("sso-identity")||!1,R=()=>{let e=(0,o.v)();return(0,r.dl)(i.P.ChatSuggestions)||e||!1},k=()=>(0,r.dl)(i.P.BusinessPlan)||!1,T=()=>(0,r.dl)(i.P.StartSandboxBackground)},97318:function(e,t,n){n.d(t,{E:function(){return o},TZ:function(){return a},iZ:function(){return r},pL:function(){return i}});let r={all:["projects"],details:()=>[...r.all,"detail"],detail:e=>[...r.details(),e],sharedWithMe:()=>[...r.all,"shared"],branches:e=>[...r.detail(e),"branches"],secretLinkId:e=>[...r.detail(e),"secret-link-id"],domains:e=>[...r.detail(e),"domains"],sourceCode:e=>[...r.detail(e),"source-code"],feedbackStatus:e=>[...r.detail(e),"feedback-status"],presence:e=>[...r.detail(e),"presence"],communityProjects:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"recent",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return[...r.all,"community",e,t,n,o]},collaborators:e=>[...r.detail(e),"collaborators"],securityWarnings:e=>[...r.detail(e),"security-warnings"],analytics:(e,t)=>[...r.detail(e),"analytics",t],analyticsTrend:e=>[...r.detail(e),"analytics-trend"],projectDetails:e=>[...r.detail(e),"details"],initialPrompt:e=>[...r.detail(e),"initial-prompt"]},o={all:["workspaces"],totalProjects:e=>[...o.all,e,"total-projects"],projects:e=>{let{workspaceId:t,userId:n,limit:r,isDraft:i=!1}=e;return[...o.detail(t),"projects",n,r,i?"draft":"published"]},membership:(e,t)=>[...o.all,e,"membership",t],memberships:e=>{let{workspaceId:t,userId:n}=e;return[...o.detail(t),n,"memberships"]},detail:e=>[...o.all,e],supabaseOrganizations:e=>[...o.all,e,"supabase-organizations"],ssoInvites:()=>[...o.all,"sso-invites"],unacceptedInvites:()=>[...o.all,"unaccepted-invites"],inviteUser:(e,t)=>[...o.all,e,"invite-user",t],workspaceRole:(e,t)=>[...o.all,e,"workspace-role",t],workspaceUsage:(e,t,n)=>[...o.all,e,"workspace-usage",t,n],workspaceUserTotalUsage:e=>[...o.all,e,"workspace-user-total-usage"],workspaceGithubInstallations:e=>[...o.all,e,"workspace-github-installations"],referralCode:(e,t)=>[...o.all,e,"referral-code",t],workspaces:e=>{let{userId:t}=e;return[...o.all,t,"workspaces"]},templates:e=>[...o.detail(e),"templates"]},i={all:["github"],installations:()=>[...i.all,"installations"],repoAccessibility:e=>[...i.all,"repo-accessibility",e],repos:e=>[...i.all,"repos",null==e?void 0:e.account.login,null==e?void 0:e.target_type]},a={all:["users"],experimentalFeatures:()=>[...a.all,"experimental-features"],workspaces:()=>[...a.all,"workspaces"],workspace:e=>[...a.workspaces(),e],profile:e=>[...a.all,e],contributions:e=>[...a.all,"contributions",e]}},89668:function(e,t,n){n.d(t,{t:function(){return s}});var r=n(52274),o=n(5978),i=n(49131),a=n(97318),l=n(78099);let s={detail:e=>{let{workspaceId:t}=e;return(0,r.C)({queryKey:a.E.detail(null!=t?t:""),queryFn:async()=>t?(0,i.SJ)().get("/workspaces/".concat(t)):{workspace:null,projects:[]}})},totalProjects:e=>{let{workspaceId:t}=e;return(0,r.C)({queryKey:a.E.totalProjects(t),queryFn:async()=>{let e=(0,o.IO)((0,o.hJ)(l.db,"projects"),(0,o.ar)("workspace_id","==",t));return(await (0,o.Yp)(e)).data().count},enabled:!!t})},projects:e=>{let{workspaceId:t,userId:n,limit:o,isDraft:l=!1}=e;return(0,r.C)({queryKey:a.E.projects({workspaceId:null!=t?t:"",userId:n,limit:o,isDraft:l}),queryFn:async()=>{let e=(0,i.SJ)(),r=new URLSearchParams;n&&"all"!==n&&r.set("user_id",n),o&&r.set("limit",o.toString());let a=l?"/workspaces/".concat(t,"/projects/draft"):"/workspaces/".concat(t,"/projects"),s=r.toString()?"".concat(a,"?").concat(r.toString()):a;return await e.get(s)},staleTime:3e5,enabled:!!t})},workspaceMembership:e=>{let{workspaceId:t,userId:n}=e;return(0,r.C)({queryKey:a.E.workspaceRole(t,n),queryFn:async()=>{let e=(0,o.IO)((0,o.hJ)(l.db,"workspace_memberships"),(0,o.ar)("workspace_id","==",t),(0,o.ar)("user_id","==",n),(0,o.b9)(1));return(await (0,o.PL)(e)).docs.map(e=>e.data())[0]}})},workspaceMemberships:e=>{let{userId:t,workspaceId:n}=e;return(0,r.C)({queryKey:a.E.memberships({workspaceId:null!=n?n:"",userId:null!=t?t:""}),refetchInterval:15e3,queryFn:async()=>{let e=(0,i.SJ)();return await e.get("/workspaces/".concat(n,"/memberships"))},enabled:!!n&&!!t})},workspaces:e=>{let{userId:t}=e;return(0,r.C)({queryKey:a.E.workspaces({userId:null!=t?t:""}),queryFn:async()=>{let e=(0,i.SJ)();return await e.get("/user/workspaces")},enabled:!!t})},workspaceUsage:e=>{let{workspaceId:t,month:n,year:o}=e;return(0,r.C)({queryKey:a.E.workspaceUsage(t,n,o),queryFn:async()=>{let e=(0,i.SJ)();return await e.post("/workspaces/".concat(t,"/usage"),{month:n,year:o})}})},workspaceUserTotalUsage:e=>{let{workspaceId:t}=e;return(0,r.C)({queryKey:a.E.workspaceUserTotalUsage(t),queryFn:async()=>{let e=(0,i.SJ)();return(await e.get("/workspaces/".concat(t,"/user-total-usage"))).user_usages},enabled:!!t})},workspaceGithubInstallations:e=>{let{workspaceId:t}=e;return(0,r.C)({queryKey:a.E.workspaceGithubInstallations(t),queryFn:async()=>{let e=(0,i.SJ)();return await e.get("/workspaces/".concat(t,"/github-installations"))},enabled:!!t})},ssoInvites:()=>(0,r.C)({queryKey:a.E.ssoInvites(),staleTime:36e5,queryFn:()=>(0,i.SJ)().get("/user/sso/invites")}),unacceptedInvites:()=>(0,r.C)({queryKey:a.E.unacceptedInvites(),queryFn:async()=>{let e=(0,i.SJ)();return(await e.get("/user/workspace-invitations")).invitations}}),referralCode:e=>{let{referralCode:t,workspaceId:n}=e;return(0,r.C)({queryKey:a.E.referralCode(n,t),queryFn:async()=>{if(t)return{referral_code:t};let e=(0,i.SJ)();return await e.post("/workspaces/".concat(n,"/referral-code"))}})},templates:e=>{let{workspaceId:t}=e;return(0,r.C)({queryKey:a.E.templates(t),queryFn:async()=>{let e=(0,i.SJ)();return await e.get("/workspaces/".concat(t,"/projects/templates"))},enabled:!!t})}}},48351:function(e,t,n){var r,o;n.d(t,{It:function(){return r},_I:function(){return u}}),(o=r||(r={})).PRO_1="pro_1",o.PRO_2="pro_2",o.PRO_3="pro_3",o.PRO_4="pro_4",o.PRO_5="pro_5",o.PRO_6="pro_6",o.PRO_7="pro_7",o.PRO_8="pro_8",o.PRO_9="pro_9",o.PRO_10="pro_10",o.PRO_11="pro_11",o.BIZ_1="biz_1",o.BIZ_2="biz_2",o.BIZ_3="biz_3",o.BIZ_4="biz_4",o.BIZ_5="biz_5",o.BIZ_6="biz_6",o.BIZ_7="biz_7",o.BIZ_8="biz_8",o.BIZ_9="biz_9",o.BIZ_10="biz_10",o.BIZ_11="biz_11",o.AMBASSADOR="ambassador",o.KTLO="ktlo";let i={pro_1:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_100",ANNUAL:"annual_pro_100"}},pro_2:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_200",ANNUAL:"annual_pro_200"}},pro_3:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_400",ANNUAL:"annual_pro_400"}},pro_4:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_800",ANNUAL:"annual_pro_800"}},pro_5:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_1200",ANNUAL:"annual_pro_1200"}},pro_6:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_2000",ANNUAL:"annual_pro_2000"}},pro_7:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_3000",ANNUAL:"annual_pro_3000"}},pro_8:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_4000",ANNUAL:"annual_pro_4000"}},pro_9:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_5000",ANNUAL:"annual_pro_5000"}},pro_10:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_7500",ANNUAL:"annual_pro_7500"}},pro_11:{LOOKUP_KEYS:{MONTHLY:"monthly_pro_10000",ANNUAL:"annual_pro_10000"}},biz_1:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_100",ANNUAL:"annual_biz_100"}},biz_2:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_200",ANNUAL:"annual_biz_200"}},biz_3:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_400",ANNUAL:"annual_biz_400"}},biz_4:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_800",ANNUAL:"annual_biz_800"}},biz_5:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_1200",ANNUAL:"annual_biz_1200"}},biz_6:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_2000",ANNUAL:"annual_biz_2000"}},biz_7:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_3000",ANNUAL:"annual_biz_3000"}},biz_8:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_4000",ANNUAL:"annual_biz_4000"}},biz_9:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_5000",ANNUAL:"annual_biz_5000"}},biz_10:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_7500",ANNUAL:"annual_biz_7500"}},biz_11:{LOOKUP_KEYS:{MONTHLY:"monthly_biz_10000",ANNUAL:"annual_biz_10000"}},ambassador:{LOOKUP_KEYS:{MONTHLY:"ambassador"}},ktlo:{LOOKUP_KEYS:{MONTHLY:"ktlo"}}},a={pro_1:{PRODUCT_ID:"prod_S5oQjcilSS4ESn"},pro_2:{PRODUCT_ID:"prod_S5oRPy0Y0nPqxh"},pro_3:{PRODUCT_ID:"prod_S5oSF3553G847f"},pro_4:{PRODUCT_ID:"prod_S5oSgRrV0vy7YI"},pro_5:{PRODUCT_ID:"prod_S5oSLOyTLvcqrO"},pro_6:{PRODUCT_ID:"prod_S5oSMXlFglFbU2"},pro_7:{PRODUCT_ID:"prod_S5oTauRvBgrspu"},pro_8:{PRODUCT_ID:"prod_S5oTiUv0zSPGmh"},pro_9:{PRODUCT_ID:"prod_S5oTiU22SV6og9"},pro_10:{PRODUCT_ID:"prod_SWTJnANFP2q5KQ"},pro_11:{PRODUCT_ID:"prod_SWTNJqORiQTX4R"},biz_1:{PRODUCT_ID:"prod_SbZXo59CXtE0wj"},biz_2:{PRODUCT_ID:"prod_SbZXneRP8c7KJm"},biz_3:{PRODUCT_ID:"prod_SbZXkGmJviKiX6"},biz_4:{PRODUCT_ID:"prod_SbZXH2K8Bz0PKC"},biz_5:{PRODUCT_ID:"prod_SbZXRjVRV7ne8t"},biz_6:{PRODUCT_ID:"prod_SbZXtUa38rzcQf"},biz_7:{PRODUCT_ID:"prod_SbZXfehYoiksvC"},biz_8:{PRODUCT_ID:"prod_SbZXSi2XWA4AP7"},biz_9:{PRODUCT_ID:"prod_SbZWN7CW4SAhtL"},biz_10:{PRODUCT_ID:"prod_SbZWXRhxsy9Wvb"},biz_11:{PRODUCT_ID:"prod_SbZWJrTBQHucUS"},ambassador:{PRODUCT_ID:"prod_SDynEklxf0t3WB"},ktlo:{PRODUCT_ID:"prod_SZolUf5wC0d4sK"}},l={pro_1:{PRODUCT_ID:"prod_S5oQjcilSS4ESn"},pro_2:{PRODUCT_ID:"prod_S5oRPy0Y0nPqxh"},pro_3:{PRODUCT_ID:"prod_S5oSF3553G847f"},pro_4:{PRODUCT_ID:"prod_S5oSgRrV0vy7YI"},pro_5:{PRODUCT_ID:"prod_S5oSLOyTLvcqrO"},pro_6:{PRODUCT_ID:"prod_S5oSMXlFglFbU2"},pro_7:{PRODUCT_ID:"prod_S5oTauRvBgrspu"},pro_8:{PRODUCT_ID:"prod_S5oTiUv0zSPGmh"},pro_9:{PRODUCT_ID:"prod_S5oTiU22SV6og9"},pro_10:{PRODUCT_ID:"prod_SWRQ0hD2isNpp1"},pro_11:{PRODUCT_ID:"prod_SWRStvzbeYDmJD"},biz_1:{PRODUCT_ID:"prod_SbYXFAxIyB09mp"},biz_2:{PRODUCT_ID:"prod_SbYXjGWVPvAXCS"},biz_3:{PRODUCT_ID:"prod_SbYXolxrsvk3Xk"},biz_4:{PRODUCT_ID:"prod_SbYXmUIRvHBJ40"},biz_5:{PRODUCT_ID:"prod_SbYXUmPWMWi4U0"},biz_6:{PRODUCT_ID:"prod_SbYYu2eGuAyvKz"},biz_7:{PRODUCT_ID:"prod_SbYY3GfS4YOTO4"},biz_8:{PRODUCT_ID:"prod_SbYYf36dVe115Z"},biz_9:{PRODUCT_ID:"prod_SbYYUH7btROvOb"},biz_10:{PRODUCT_ID:"prod_SbYYrUOzaH282X"},biz_11:{PRODUCT_ID:"prod_SbYYQQu2QPCMR1"},ambassador:{PRODUCT_ID:"prod_SDhydCOswIvi9R"},ktlo:{PRODUCT_ID:"prod_SbdVRazdIOliCy"}},s=Object.fromEntries(Object.values(r).map(e=>[e,{...a[e],...i[e]}]));Object.fromEntries(Object.values(r).map(e=>[e,{...l[e],...i[e]}]));let u=s;if(!(Object.values({CREDITS:{PRODUCT_ID:"prod_PBz7dgcoojSzVk"},OLD_PRO:{PRODUCT_ID:"prod_OtayqnnNbMxjpg"},STARTER:{PRODUCT_ID:"prod_RATAhoODy1Kbsn"},LAUNCH:{PRODUCT_ID:"prod_RAT9OebuvgB9ur"},SCALE_1:{PRODUCT_ID:"prod_RM6vrOL5DeHYgr"},SCALE:{PRODUCT_ID:"prod_RATAg5DUEdbkr4"},SCALE_3:{PRODUCT_ID:"prod_RM6wsb37tx0R2i"},SCALE_4:{PRODUCT_ID:"prod_RM6wsXmA4a0acz"},SCALE_5:{PRODUCT_ID:"prod_RM6wwDaeC6NikJ"},SCALE_6:{PRODUCT_ID:"prod_RM6xlLog0ySaSu"},SCALE_7:{PRODUCT_ID:"prod_RM6x95NN4Uw4Ne"},...u}).every(e=>e.PRODUCT_ID)&&Object.values(u).every(e=>e.PRODUCT_ID)))throw Error("All stripe products must have a product id")},73400:function(e,t,n){var r,o,i;n.d(t,{n:function(){return r}}),(i=(o=r||(r={})).plan||(o.plan={})).FREE="free",i.PRO="pro",i.PARTNER="partner",i.STARTER="starter",i.LAUNCH="launch",i.SCALE_1="scale_1",i.SCALE="scale",i.SCALE_3="scale_3",i.SCALE_4="scale_4",i.SCALE_5="scale_5",i.SCALE_6="scale_6",i.SCALE_7="scale_7",i.ENTERPRISE="enterprise",i.PRO_1="pro_1",i.PRO_2="pro_2",i.PRO_3="pro_3",i.PRO_4="pro_4",i.PRO_5="pro_5",i.PRO_6="pro_6",i.PRO_7="pro_7",i.PRO_8="pro_8",i.PRO_9="pro_9",i.PRO_10="pro_10",i.PRO_11="pro_11",i.AMBASSADOR="ambassador",i.BONUS="bonus"},33370:function(e,t,n){var r,o;n.d(t,{O:function(){return r}}),(o=r||(r={})).SUBMITTED="submitted",o.SKIPPED="skipped",o.NOT_SHOWN="not_shown"},46170:function(e,t,n){n.d(t,{$k:function(){return a},B9:function(){return s},Iw:function(){return _},Ll:function(){return p},Qx:function(){return u},Rq:function(){return l},XB:function(){return d},ZN:function(){return m},dv:function(){return f},fA:function(){return P},gG:function(){return c},tJ:function(){return i},z6:function(){return h}});var r=n(48351),o=n(73400);let i={...r.It,...o.n.plan,INACTIVE:"inactive"},a="pro_",l="biz_",s=e=>!!e&&e.startsWith(a),u=e=>!!e&&e.startsWith(l),c=e=>!!e&&"enterprise"===e,d=e=>!!e&&"free"!==e&&"inactive"!==e,p=e=>e&&"free"!==e?"ktlo"===e?"ktlo":e.startsWith(a)?"pro":e.startsWith(l)?"biz":"enterprise"===e?"enterprise":"free":"free",_=e=>{if(!e)return"";if("ktlo"===e)return"Lite";if(e.startsWith(a)){let t=e.split("_")[1];return"Pro ".concat(t)}if(e.startsWith("biz_")){let t=e.split("_")[1];return"Business ".concat(t)}return e},f=30,m=e=>{if(e.startsWith(a))return"Pro";if(e.startsWith(l))return"Business";switch(e){case o.n.plan.FREE:return"Free";case o.n.plan.PRO:return"Pro";case o.n.plan.STARTER:return"Starter";case o.n.plan.LAUNCH:return"Launch";case"bonus":return"Bonus";case o.n.plan.ENTERPRISE:return"Enterprise";case o.n.plan.PARTNER:return"Partner";case o.n.plan.SCALE:return"Scale 2";case o.n.plan.SCALE_1:case o.n.plan.SCALE_3:case o.n.plan.SCALE_4:case o.n.plan.SCALE_5:case o.n.plan.SCALE_6:case o.n.plan.SCALE_7:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");case r.It.KTLO:return"Lite";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},P=e=>[o.n.plan.PRO,o.n.plan.PARTNER,o.n.plan.STARTER,o.n.plan.LAUNCH,o.n.plan.SCALE_1,o.n.plan.SCALE,o.n.plan.SCALE_3,o.n.plan.SCALE_4,o.n.plan.SCALE_5,o.n.plan.SCALE_6,o.n.plan.SCALE_7].includes(e),h=e=>["free","inactive"].includes(e)}}]);